# Description: Meson is an open source build system meant to be both extremely fast and as user friendly as possible. 
# URL:         https://mesonbuild.com/
# Maintainer:  none
# Depends on:  ninja

pkgname=meson
pkgver=0.60.2
pkgrel=1
arch=('x86_64')
source=(https://github.com/mesonbuild/meson/releases/download/$pkgver/meson-$pkgver.tar.gz)
depends=('python3' 'ninja')

build() {
        cd $pkgname-$pkgver

	python3 -m ensurepip

	python3 setup.py build
        
}

package() {
        cd $pkgname-$pkgver

	python3 setup.py install --root=dest
	ls dest*
	cp -rv dest/* $pkgdir
	install -vDm644 data/shell-completions/bash/meson $pkgdir/usr/share/bash-completion/completions/meson
	install -vDm644 data/shell-completions/zsh/_meson $pkgdir/usr/share/zsh/site-functions/_meson
}
