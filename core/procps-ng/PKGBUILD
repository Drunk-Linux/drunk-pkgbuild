# Description: Programs for monitoring processes
# URL:         https://gitlab.com/procps-ng/procps
# Maintainer:  Emmett1, emmett1 dot 2miligrams at gmail dot com
# Depends on:  ncurses

pkgname=procps-ng
pkgver=3.3.17
pkgrel=1
arch=('x86_64')
source=(https://sourceforge.net/projects/procps-ng/files/Production/$pkgname-$pkgver.tar.xz)

build() {
        cd procps-$pkgver

        ./configure --prefix=/usr \
                    --exec-prefix= \
                    --libdir=/usr/lib \
                    --disable-static \
                    --disable-kill
        make
}

package() {
        cd procps-$pkgver
        make DESTDIR=$pkgdir install

        mkdir -pv $pkgdir/lib
        mv -v $pkgdir/usr/lib/libprocps.so.* $pkgdir/lib
        ln -sfv ../../lib/$(readlink $pkgdir/usr/lib/libprocps.so) $pkgdir/usr/lib/libprocps.so
}
