# Description: Simple interface for userspace programs to export a virtual filesystem to the Linux kernel
# URL:         https://github.com/libfuse/libfuse
# Maintainer:  Emmett1, emmett1 dot 2miligrams at gmail dot com
# Depends on:  

pkgname=fuse2
pkgver=2.9.9
pkgrel=1
arch=('x86_64')
source=(https://github.com/libfuse/libfuse/releases/download/fuse-$pkgver/fuse-$pkgver.tar.gz)

build() {
        cd fuse-$pkgver

        ./configure --prefix=/usr    \
                    --disable-static \
                    INIT_D_PATH=/tmp/init.d
        make
}

package() {
	cd fuse-$pkgver
        make DESTDIR=$pkgdir install

        install -d $pkgdir/lib
        mv -v   $pkgdir/usr/lib/libfuse.so.* $pkgdir/lib
        ln -sfv ../../lib/libfuse.so.2.9.9 $pkgdir/usr/lib/libfuse.so
        rm -rf  $pkgdir/{tmp,dev}
}
