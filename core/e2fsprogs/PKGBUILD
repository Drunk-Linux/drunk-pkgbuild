# Description: utilities for handling the ext2, ext3 and ext4 file system
# URL:         http://e2fsprogs.sourceforge.net/
# Maintainer:  Emmett1, emmett1 dot 2miligrams at gmail dot com
# Depends on:  bash bc

pkgname=e2fsprogs
pkgver=1.45.6
pkgrel=1
arch=('x86_64')
source=(https://www.kernel.org/pub/linux/kernel/people/tytso/$pkgname/v$pkgver/$pkgname-$pkgver.tar.xz)

build() {
        cd $pkgname-$pkgver

        mkdir -vp build
        cd build

        ../configure --prefix=/usr           \
                     --bindir=/bin           \
                     --with-root-prefix=""   \
                     --enable-elf-shlibs     \
                     --disable-libblkid      \
                     --disable-libuuid       \
                     --disable-uuidd         \
                     --disable-fsck
        make
}
package() {
	cd $pkgname-$pkgver
	cd build

        make DESTDIR=$pkgdir install
        make DESTDIR=$pkgdir install-libs

        chmod -v u+w $pkgdir/usr/lib/{libcom_err,libe2p,libext2fs,libss}.a
}
