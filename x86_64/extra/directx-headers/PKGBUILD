pkgname=directx-headers
pkgdesc="DirectX headers for using D3D12"
pkgver=1.4.9
pkgrel=1
arch=('x86_64')
makedepends=('meson')
commitid=980971e835876dc0cde415e8f9bc646e64667bf7
source=(git+https://github.com/microsoft/DirectX-Headers#commit=$commitid)

build() {
	# LTO breaks mesa...
	export CXXFLAGS="$CXXFLAGS -fno-lto"

	meson				\
	--prefix=/usr			\
	DirectX-Headers build	\
	-Dbuild-test=false

	ninja -C build
}

package() {
	DESTDIR="$pkgdir" meson install -C build
}
