pkgname=extra-cmake-modules
pkgver=5.93.0
pkgrel=1
arch=('x86_64')
source=("https://download.kde.org/stable/frameworks/${pkgver%.*}/$pkgname-$pkgver.tar.xz"
	"ECM-no-init.py.patch")

prepare() {
	patch -d $pkgname-$pkgver -p1 < ECM-no-init.py.patch
}

build() {
	cmake				\
	-B build			\
	-S $pkgname-$pkgver		\
	-D CMAKE_INSTALL_PREFIX=/usr	\
	-D BUILD_HTML_DOCS=OFF		\
	-D BUILD_QTHELP_DOCS=OFF

	cmake --build build
}

package() {
	DESTDIR=$pkgdir cmake --install build
}
