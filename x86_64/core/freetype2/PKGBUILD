# Description: Font rasterization library
# URL:         https://www.freetype.org/
# Maintainer:  Emmett1, emmett1 dot 2miligrams at gmail dot com
# Depends on:  libpng which

pkgname=freetype2
pkgver=2.10.4
pkgrel=1
arch=('x86_64')
source=(https://downloads.sourceforge.net/freetype/freetype-$pkgver.tar.xz)

build() {
	cd freetype-$pkgver

	sed -ri "s:.*(AUX_MODULES.*valid):\1:" modules.cfg

        sed -r "s:.*(#.*SUBPIXEL_RENDERING) .*:\1:" \
            -i include/freetype/config/ftoption.h

        ./configure --prefix=/usr --enable-freetype-config --disable-static
        make
}

package() {
	cd freetype-$pkgver
        make DESTDIR=$pkgdir install
}
